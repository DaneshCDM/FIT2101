<!DOCTYPE html>
<html lang="english">
  <head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <title>exported project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: blue;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-gray-black);
        background-color: var(--dl-color-gray-white);

      }
    </style>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Patua+One:wght@400&amp;display=swap"
      data-tag="font"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <div>
      <link
        href="./dashboard-dark-pop-up-add-task-product-backlog.css"
        rel="stylesheet"
      />
      <div class="dashboard-dark-pop-up-add-task-product-backlog-container">
        <div
          class="dashboard-dark-pop-up-add-task-product-backlog-dashboard-dark-popupfor-adding-task"
        >
          <img
            alt="Rectangle235895"
            src="public/external/rectangle235895-c4av-200h.png"
            class="dashboard-dark-pop-up-add-task-product-backlog-rectangle23"
          />
          <span class="dashboard-dark-pop-up-add-task-product-backlog-text">
            <span>Add Task</span>
          </span>
          <div class="dashboard-dark-pop-up-add-task-product-backlog-task-name">
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text02">
              <input type = "text" id = "Task_Name_text" placeholder="Task Name"
              style="background-color: white; color: black; width: 260px">
            </span>
          </div>
          <div
            class="dashboard-dark-pop-up-add-task-product-backlog-assign-member"
          >
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text04">
              <input type = "text" id = "Assign_Member_text" placeholder="Assign Member"
              style="background-color:white; color: black;">
            </span>
          </div>
          <div
            class="dashboard-dark-pop-up-add-task-product-backlog-story-points"
          >
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text06">
              <input type = "text" id = "Story_Points_text" placeholder="Story Points (1 - 10)"
              style="background-color:white; color: black; width: 160px;">
            </span>
          </div>
          <div class="task-description">
            <input type = "text" class="task-description-text" id = "Task_Description_text" placeholder="Task Description"
            style="background-color:white;color:black; height: 180px; width:780px">
          </div>
          <span class="task-stage-text">Task Stage:</span>
          <div class="task-stage">
            <select id = 'task_stage_choice' class="task-stage-selection">
              <option value = "None">None</option>
              <option value = "Planning">Planning</option>
              <option value = "Development">Development</option>
              <option value = "Testing">Testing</option>
              <option value = "Integration">Integration</option>
            </select>
          </div>
          <div
            class="dashboard-dark-pop-up-add-task-product-backlog-default-task-status"
          >
            <div
              class="dashboard-dark-pop-up-add-task-product-backlog-default-task-status1"
            >
              <span
                class="dashboard-dark-pop-up-add-task-product-backlog-text08"
              >
                <select id="progress">
                  <!-- option tag starts -->
                      <option value="Not Started">Not Started</option>
                      <option value="In Progress">In Progress</option>
                      <option value="Completed">Completed</option>
                  <!-- option tag ends -->
                  </select>
              </span>
            </div>
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text10">
              <span>Default Task Status:</span>
            </span>
          </div>
          <!-- Add multiple tags -->
          <span class="tags-text">Tags Selected:</span>
          <div id="tag-list" class="add-tags" tabindex="100">
            <span class="tag-anchor">Select Tags</span>
            <ul class="task-tags">
              <li><input type="checkbox" id="tag1" class="tag-checkbox" name="tag1" value="Frontend">Frontend</li>
              <li><input type="checkbox" id="tag2" class="tag-checkbox" name="tag2" value="Backend">Backend</li>
              <li><input type="checkbox" id="tag3" class="tag-checkbox" name="tag3" value="Database">Database</li>
              <li><input type="checkbox" id="tag4" class="tag-checkbox" name="tag4" value="Framework">Framework</li>
              <li><input type="checkbox" id="tag5" class="tag-checkbox" name="tag5" value="UI/UX">UI/UX</li>
              <li><input type="checkbox" id="tag6" class="tag-checkbox" name="tag6" value="Testing">Testing</li>
            </ul>
          </div>
          <!-- <div class="dashboard-dark-pop-up-add-task-product-backlog-tag">
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text12">
              <input type = "text" id = "Tag_text" placeholder="Tag"
              style="background-color:white; color: black;">
            </span>
          </div> -->
          <div class="dashboard-dark-pop-up-add-task-product-backlog-priority">
             <img
              alt="Rectangle76435"
              src="public/external/rectangle76435-exmp-200h.png"
              class="dashboard-dark-pop-up-add-task-product-backlog-rectangle7"
            /> 
            <span class="dashboard-dark-pop-up-add-task-product-backlog-text14">
              <span>Priority:</span>
            </span>
            <select id = 'priority' style="position: absolute; top: 30px; left: 18px; height: 24px;">
              <option value = "Low">Low</option>
              <option value = "Medium">Medium</option>
              <option value = "Important">Important</option>
              <option value = "Urgent">Urgent</option>
            </select>
            <!-- <img
              alt="flagiconicons76435"
              src="public/external/flagiconicons76435-w46d-200h.png"
              class="dashboard-dark-pop-up-add-task-product-backlog-flagiconicons7"
            /> -->
          </div>
          <div class="dashboard-dark-pop-up-add-task-product-backlog-create-task", id = "submitbtn">
            <div class="dashboard-dark-pop-up-add-task-product-backlog-group1">
              <!-- <a href="dashboard-dark-product-backlog.html"> -->
              <!-- <a href="dashboard-dark-product-backlog.html" class="close"data-bs-dismiss="modal" aria-label="close"data-toggle="modal" data-target="#modalCase" onclick="closeWindow(event);"> -->
                <!-- <span class="dashboard-dark-pop-up-add-task-product-backlog-text16"> -->
                  <!--<button id="btnModal" type="button" class = "close" data-dismiss="modal" aria-label="close"onclick="window.parent.closeModal();"></button>-->
                  <!-- <button id="btnAddTaskClose" type="submit" class = "close" onclick="closeModalAndIframe"></button> -->
                  <!-- <button type="button" class="close" data-dismiss="modal" aria-label="close">
                  <span class="close">&times;</span>
                  </button> -->
                    <!--<span class="close">Create Task</span>
                  </button>
                  </span> --> 
              <a href="#" class="close" data-bs-dismiss="modal" aria-label="close" onclick="closeModal">
              <span class="dashboard-dark-pop-up-add-task-product-backlog-text16"> 
                <button id="btnAddTaskClose" type="submit" class = "close" data-bs-dismiss="modal" aria-label="close"></button>
                  <span class="close">Create Task</span>
              </span>
              </a>
              <!-- <span class="dashboard-dark-pop-up-add-task-product-backlog-text16"> 
                <button id="btnAddTaskClose" type="submit" class = "close" data-bs-dismiss="modal" aria-label="close" onclick="closeModal()"></button>
                  <span class="close">Create Task</span>
              </span> -->
            </div>
          </div>
          <div class="overlay" id="overlay">
            <div class="popup" id="popup">
              <h2>Pop-up Window</h2>
              <p>This is a pop-up window.</p>
              <button id="open-button" type="submit" class="btn" onclick="openPopUp()">Open</button>
              <button id="close-button" onclick="closePopUp()">Close</button>
            </div> 
          </div>
          
          <!-- Submitting the Form
          Slight Error: Clicking in the area where cursor changes to hand does not add to Database,
          Need to clikc on bar area with deafult cursor to add to Database -->
          <!-- <div class="dashboard-dark-pop-up-add-task-product-backlog-create-task", id = "submitbtn">
            <a href="dashboard-dark-product-backlog.html">
              <div class="dashboard-dark-pop-up-add-task-product-backlog-group1">
                <span class="dashboard-dark-pop-up-add-task-product-backlog-text16">
                  <span>Create Task</span>
                </span>
              </div>
            </a>
          </div> -->
          
          <!-- Working Button -->
          <!-- <div class="dashboard-dark-pop-up-add-task-product-backlog-create-task">
            <button type="submit" id="submitbtn" style=" 
            width: 37px;
            height: 27px;
            background-color: #0074f0;
            ">Click Me</button>
          </div> -->
          
          <!-- Priority Pop Up Not Working for Now -->
          <!-- <div id="popup">
            <h2>Pop-up Window</h2>
            <p>This is a pop-up window.</p>
            <button id="close-button" onclick="closePopUp()">Close</button>
          </div>  -->

          <!-- <img
            alt="DropDownArrow3733"
            src="public/external/dropdownarrow3733-cbq6.svg"
            class="dashboard-dark-pop-up-add-task-product-backlog-drop-down-arrow"
          /> -->
        </div>
      </div>
    </div>
    <script type="text/javascript">
 
      function closeWindow(e)
      {
          this.parent.$("#Window").data("tWindow").close();
      }
       
    </script>
    <script>
      var checkList = document.getElementById('tag-list');
      checkList.getElementsByClassName('tag-anchor')[0].onclick = function(evt) {
      if (checkList.classList.contains('visible'))
        checkList.classList.remove('visible');
      else
        checkList.classList.add('visible');
      }
    </script>
    <script>
    //   $('#btnAddTaskClose').click(function() {
    //     parent.$('#modelCase').modal('hide');
    // });
    //   window.parent.closeModal();
    //   $('#modelCase').on('click', 'button.close', function (eventObject) {
    //   $('#modelCase').modal('hide');
    // });
    </script>
    <script src="javaScript.js"></script>
  </body>
</html>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-analytics.js";
  import { getDatabase, ref, set, push, child } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-database.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCghK_Zy_3Enmz0RJ9pvAxZfWxUYQp-InQ",
    authDomain: "innotechscrum.firebaseapp.com",
    databaseURL: "https://innotechscrum-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "innotechscrum",
    storageBucket: "innotechscrum.appspot.com",
    messagingSenderId: "365889461120",
    appId: "1:365889461120:web:42e3ff55449d78b148bf65",
    measurementId: "G-435J39SW2R"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const database = getDatabase(app);

  submitbtn.addEventListener('click',(e)=>{
    console.log('Button clicked');

    var Task_Name = document.getElementById('Task_Name_text').value;
    var Assign_Member = document.getElementById('Assign_Member_text').value; 
    var Story_Points = document.getElementById('Story_Points_text').value;
    var Task_Description = document.getElementById('Task_Description_text').value
    var Tag1 = document.getElementById('tag1');
    var Tag2 = document.getElementById('tag2');
    var Tag3 = document.getElementById('tag3');
    var Tag4 = document.getElementById('tag4');
    var Tag5 = document.getElementById('tag5');
    var Tag6 = document.getElementById('tag6');
    var Task_Stage = document.getElementById('task_stage_choice').value;
    var Progress = document.getElementById('progress').value;
    var Priority = document.getElementById('priority').value;
    var date = Date();

    var Tag = " ";
    if (Tag1.checked){
      Tag = Tag + Tag1.value + ", ";
    }
    if (Tag2.checked){
      Tag = Tag + Tag2.value + ", ";
    }
    if (Tag3.checked){
      Tag = Tag + Tag3.value + ", ";
    }
    if (Tag4.checked){
      Tag = Tag + Tag4.value + ", ";
    }
    if (Tag5.checked){
      Tag = Tag + Tag5.value + ", ";
    }
    if (Tag6.checked){
      Tag = Tag + Tag6.value + ", ";
    }
    Tag = Tag.slice(0, -2);
    const userId = push(child(ref(database), 'product-backlog-tasks')).key;

    set(ref(database, 'product-backlog-tasks/' + userId), {
      Task_Name: Task_Name,
      Assign_Member: Assign_Member,
      Story_Points: Story_Points,
      Tag: Tag,
      Progress: Progress,
      Priority: Priority,
      date: date,
      Task_Description: Task_Description,
      Task_Stage: Task_Stage
    });

    alert('Task Added to Product Backlog');
    // closePopUp()
  });
</script>
